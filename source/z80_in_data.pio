; GPIO11–18 : D0–D7

.program z80_in_data

start:
    wait 0 pin 0        ; /IORQ Low
    wait 0 pin 1        ; /RD Low

    pull block          ; 8bit data
    out pins, 8         ; output D0–D7
hold:
    wait 1 pin 1        ; /RD High
    set pindirs, 0      ; input D0–D7
    jmp start
